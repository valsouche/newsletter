
<!-- Header -->

<div class="container-fluid bs-docs-header">
    
    <div class="container">
        
        <h1>Liste de diffusion</h1>
        
        <p>Créez et gérez vos contacts sur notre page.</p>
    
    </div>
    
</div>

<!-- Creation / Modification -->

    <!-- Inputs -->
    
<div class="row">
        
    <div class="container">

        <div class="col-md-6 col-sm-12">
        <!-- Broadcast list name -->

            <h3>Nom de la liste</h3>

            <div>
                <label for="broadcastListTitle">Nom de la liste</label>

                <input type="text"
                       class="form-control"
                       id="broadcastListTitle"
                       placeholder="Nom de la liste"
                       ng-model="broadcastList.title" />
            </div>
        </div>
    </div>
        
</div>

<div class="row " >
    <div class="container formulaire-creatList">
        <div class="col-md-6 col-sm-12">
            <h3>Ajouter manuellement</h3>
            <form class="form-inline">
                <input type="email"
                       class="form-control"
                       id="emailEntity"
                       placeholder="Email"
                       ng-model="address">
               <div class="form">
                <a type="submit"
                        class="btn btn-default"
                        ng-click="addManualEmails()" style="float: right;margin-top: -60px;margin-right: 97px;">
                    <span class="glyphicon glyphicon-plus" title="ajouter" ></span>
                </a>
            </div>
            </form>
        </div>

        <div class="col-md-6 col-sm-12">
            <h3>Importer votre fichier CSV</h3>
            <form class="form-inline">
                <ng-csv-import
                        class="import form-control"
                        content="csv.content"
                        header="csv.header"
                        separator="csv.separator"
                        result="csv.result"
                        encoding-visible="csv.encodingVisible"></ng-csv-import>
                <div class="form">
                <a type="submit"
                        class="btn"
                        ng-click="addCsvEmails()" style="float: right;margin-top: -60px;margin-right: 67px;">
                    <span class="glyphicon glyphicon-upload" title="importer"></span>
                </a>
                </div>
            </form>
        </div>
    </div>
</div>

    <!-- Saving -->

<div class="row">
    <div ng-if="! broadcastListCurrentlyUpdating" class="container">
        <table ng-if="email != ''" class="table table-hover">

            <thead>
            <tr>
                <th style="width:10%;">Sélectionner</th>
                <th>Adresses emails</th>
                <th style="width:20%;">Actions</th>
            </tr>
            </thead>

            <tbody class="container-body" id="campaigne_list">
            <tr ng-repeat="mail in email | filter:{deleted:'false'}">
                <td><input type="checkbox" ng-change="isChecked(mail)" ng-model="mailChecked"></td>
                <td class="title-campaigne">{{mail.address}}</td>
                <td class="btn-campaigne">
                    <a ng-click="deleteEmail(mail)" class='btn supprimer' title="Supprimer"><span class="glyphicon glyphicon-trash"></span></a>
                </td>
            </tr>
            </tbody>

        </table>
        <div class="form">
            <a ng-click="checkAll()"
                    class="btn" title="Tout séléctionner" >
                    <span class="glyphicon glyphicon-asterisk" title="Tout séléctionner"></span>
                    <span class="glyphicon glyphicon-ok" title="Tout séléctionner"></span>
            </a>
            <a class="btn"
                    ng-click="deleteAllEmails()" title="Tout supprimer">
                    <span class="glyphicon glyphicon-asterisk" title="Tout supprimer"></span>
                    <span class="glyphicon glyphicon-remove" title="Tout supprimer"></span>
                
            </a>
            <a type="submit"
                    class="btn"
                    ng-click="create()" title="Créer la liste">
                    <span class="glyphicon glyphicon-pencil" title="Modifier la liste"></span>
                
            </a>
        </div>
    </div>

    <div ng-if=" broadcastListCurrentlyUpdating" class="container">
        <table class="table table-hover">

            <thead>
            <tr>
                <th style="width:10%;">Selectionner</th>
                <th>Adresses emails</th>
                <th style="width:20%;">Actions</th>
            </tr>
            </thead>

            <tbody class="container-body" id="campaigne_list">
            <tr ng-repeat="mail in broadcastList.emails | filter:{deleted:'false'}">
                <td><input type="checkbox" ng-change="isChecked(mail)" ng-model="mailChecked"></td>
                <td class="title-campaigne">{{mail.address}}</td>
                <td class="btn-campaigne">
                    <a ng-click="deleteEmail(mail)" class='btn supprimer' title="Supprimer"><span class="glyphicon glyphicon-trash"></span></a>
                </td>
            </tr>
            </tbody>

        </table>
        <div class="form">
            <a ng-click="checkAll()"
                    class="btn" title="Tout séléctionner" >
                    <span class="glyphicon glyphicon-asterisk" title="Tout séléctionner"></span>
                    <span class="glyphicon glyphicon-ok" title="Tout séléctionner"></span>
            </a>
            <a class="btn"
                    ng-click="deleteAllEmails()" title="Tout supprimer">
                    <span class="glyphicon glyphicon-asterisk" title="Tout supprimer"></span>
                    <span class="glyphicon glyphicon-remove" title="Tout supprimer"></span>
                
            </a>
            <a type="submit"
                    class="btn"
                    ng-click="update(broadcastList._id, broadcastList.emails)" title="Modifier la liste">
                    <span class="glyphicon glyphicon-pencil" title="Modifier la liste"></span>
                
            </a>
        </div>
    </div>
</div>